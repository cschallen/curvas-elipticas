<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Curvas Elípticas</title>
</head>
<body>

<!-- Se P = (x1,y1), e Q = (x2,y2), e pode-se considerar, inicialmente, que P <> Q.  
Assim, o ponto soma "P + Q"= (x3,y3) será determinado pelas seguintes regras:
a - Se P <> Q, então  = (y2 - y1)/ (x2 - x1).
b - Se P == Q, então  = (3*x12 + a)/ (2*y1).
-->


    <div>
        <p>
            Implementar as operações de
        </p>
        <p>
            1) determinação do grupo elíptico;
        </p>
        <p>
            2) de soma de pontos, de subtração de pontos e de multiplicação de um escalar (número inteiro positivo) por um ponto.
        </p>
        <p>
            Para o 1), o usuário deve escolher A, B, e p, e o sistema deverá apresentar todos os possíveis pontos gerados (incluindo o ponto de infinitude)
        </p>
        <p>
            Para o 2), ou usa os pontos gerados acima, ou o usuário digita as coordenadas dos pontos, o valor de "a" e o valor de "p", apresentando o ponto resultante.
        </p>
    </div>
    <h1>Curvas Elípticas: </h1>
    <form action="index.html" method="post">

        <label>A: </label>
        <input type="text" name="A"><br><br>

        <label>B: </label>
        <input type="text" name="B"><br><br>

        <label>P: </label>
        <input type="text" name="P"><br><br>

        <button type="submit" name="button">Gerar valores</button>
    </form>

    <div>
        <p>
            A:
            <b id="valueA"></b>
        </p>

        <p>
            B:
            <b id="valueB"></b>
        </p>

        <p>
            P:
            <b id="valueP"></b>

        </div>


		
		
		
		
        <script>
			// a - Se P <> Q, então lambda = (y2 - y1)/ (x2 - x1).
			//function retornarValoresDeXeY(P, Q) {
				
			//}
			
			
			function retornaLambdaQuandoPontosDiferentes(x1, x2, y1, y2){
				var lambda = 0;
				lambda = (y2 - y1) / (x2 - x1);
				return lambda;
			}
			
			// Se P == Q, então lambda = (3*x1^2 + a)/ (2*y1).
			
			function retornaLambdaQuandoPontosIguais(x1, a, y1){
				var lambda = 0;

				//Math.pow(0, 1) ----> metodo de potencialização
				// falta valor de A e metodo da potencialização
				// lambda = (3 * x1^2 + a) / (2 * y1);
				return lambda;
			}
			
			
			//y3 (lambda(x1 - x3) - yi)(mod p)
			function retornaYIII(lambda, x1, x3, y1, p){
				var y3 = (lambda * (x1 - x3) - y1) % p;
				return y3;
			}
			
			//(lambda^2 - x1 - x2)(mod p)  
			function retornaXIII(lambda, x1, x2, p){
				var x3 = (lambda^2 - x1 - x2) % p;
				return x3;
			}
			
			
			function somaPontos(P, Q){
				var p = 0; //USUARIO ESCOLHE
				var somaDosPontos = [0, 0];
				var y1 = P[0];
				var y2 = P[1];
				var x1 = Q[0];
				var x2 = Q[1];
				if(P == Q){
					var lambda = retornaLambdaQuandoPontosIguais(x1, a, y1);
				} else {
					var lambda = retornaLambdaQuandoPontosDiferentes(x1, x2, y1, y2);
				}
				
				var x3 = retornaXIII(lambda, x1, x2, p);
				var y3 = retornaYIII(lambda, x1, x3, y1, p);
				
				somaDosPontos[0] = x3;
				somaDosPontos[1] = y3;
				
				return somaDosPontos;
			}
			
			somaPontos([5, 1], [5, 1]);
			somaPontos([3, 4], [4, 4]);
        </script>
    </body>
    </html>
